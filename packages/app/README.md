# App - GNRNG-ID Demo Application

React + TypeScript + Vite ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ @nap5/gnrng-id ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸ¯ ç›®çš„

- **GNRNG-IDçµ±åˆ**: @nap5/gnrng-id ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å®Ÿè·µçš„ãªä½¿ç”¨ä¾‹
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: WASM vs TypeScript ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯æ¯”è¼ƒ
- **é–‹ç™ºä½“é¨“**: ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œã®æœ€æ–°é–‹ç™ºç’°å¢ƒ
- **å®Ÿç”¨ä¾‹**: ä¹±æ•°ç”Ÿæˆã¨IDä½œæˆã®å®Ÿè£…ä¾‹ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š

## âœ¨ ç‰¹å¾´

- ğŸ¦€ **@nap5/gnrng-idçµ±åˆ** - Rust WASM ã«ã‚ˆã‚‹é«˜é€Ÿãªä¹±æ•°ç”Ÿæˆã¨IDä½œæˆ  
- âš›ï¸ **React 18** - ãƒ¢ãƒ€ãƒ³ãªUIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨Hooks
- ğŸ¨ **TailwindCSS** - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã§ãƒ¢ãƒ€ãƒ³ãªãƒ‡ã‚¶ã‚¤ãƒ³
- âš¡ **Vite** - é«˜é€Ÿãªé–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¨ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- ğŸ§ª **Vitest** - åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
- ğŸ“Š **ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯** - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
- ğŸ“± **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ** - ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ»ãƒ¢ãƒã‚¤ãƒ«ä¸¡å¯¾å¿œ

## ğŸš€ èµ·å‹•æ–¹æ³•

### å‰ææ¡ä»¶

```bash
# WASMã‚¯ãƒ¬ãƒ¼ãƒˆã®ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦
pnpm run build:wasm

# ã¾ãŸã¯å®Œå…¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
pnpm run setup
```

### é–‹ç™ºãƒ¢ãƒ¼ãƒ‰

```bash
# åŸºæœ¬çš„ãªé–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm dev

# WASMç›£è¦– + Reacté–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆæ¨å¥¨ï¼‰
pnpm run dev:all

# ãƒ•ãƒ«é–‹ç™ºç’°å¢ƒï¼ˆUtils + WASM + Reactï¼‰
pnpm run dev:watch
```

### æœ¬ç•ªãƒ“ãƒ«ãƒ‰

```bash
# æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰
pnpm build

# ãƒ“ãƒ«ãƒ‰çµæœã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
pnpm preview
```

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Header.tsx              # ã‚¢ãƒ—ãƒªãƒ˜ãƒƒãƒ€ãƒ¼
â”‚   â”œâ”€â”€ Footer.tsx              # ã‚¢ãƒ—ãƒªãƒ•ãƒƒã‚¿ãƒ¼
â”‚   â””â”€â”€ BenchmarkDemo.tsx       # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ mocks/
â”‚   â””â”€â”€ vitest.setup.ts         # ãƒ†ã‚¹ãƒˆç”¨WASMãƒ¢ãƒƒã‚¯
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ gnrng-id.test.ts        # ãƒ©ã‚¤ãƒ–ãƒ©ãƒªçµ±åˆãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ App.tsx                     # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ main.tsx                    # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ + WASMåˆæœŸåŒ–
â””â”€â”€ index.css                   # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
```

### WASMçµ±åˆ

```typescript
// main.tsx ã§ã®WASMåˆæœŸåŒ–
import { initWasm } from '@nap5/gnrng-id'

async function init() {
  try {
    await initWasm()
    console.log('âœ… GNRNG-ID WASM module initialized successfully!')
    // React ã‚¢ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  } catch (error) {
    console.error('âŒ Failed to initialize GNRNG-ID WASM module:', error)
  }
}
```

## ğŸ› ï¸ é–‹ç™º

### åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
# é–‹ç™º
pnpm dev                  # Reacté–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• (port 5000)
pnpm dev:all             # WASMç›£è¦– + Reacté–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆæ¨å¥¨ï¼‰

# ãƒ“ãƒ«ãƒ‰
pnpm build               # TypeScript + Vite æœ¬ç•ªãƒ“ãƒ«ãƒ‰
pnpm preview             # ãƒ“ãƒ«ãƒ‰çµæœãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ (port 5000)

# ãƒ†ã‚¹ãƒˆ
pnpm test                # ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆwatch ãƒ¢ãƒ¼ãƒ‰ï¼‰
pnpm test:run            # ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆãƒ¯ãƒ³ã‚·ãƒ§ãƒƒãƒˆï¼‰
pnpm test:ui             # ãƒ†ã‚¹ãƒˆUIèµ·å‹•
pnpm test:coverage       # ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆ

# ã‚³ãƒ¼ãƒ‰å“è³ª
pnpm check               # Biome ãƒã‚§ãƒƒã‚¯
pnpm check:fix           # Biome è‡ªå‹•ä¿®æ­£
pnpm format              # ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
pnpm typecheck           # TypeScriptå‹ãƒã‚§ãƒƒã‚¯

# ä¾å­˜é–¢ä¿‚
pnpm package:check       # ä¾å­˜é–¢ä¿‚ã®æ›´æ–°ç¢ºèªï¼ˆtazeï¼‰
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ†ã‚¹ãƒˆæ§‹æˆ

- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ**: React Testing Library + Vitest
- **WASMãƒ¢ãƒƒã‚¯**: ãƒ†ã‚¹ãƒˆæ™‚ã¯JavaScriptå®Ÿè£…ã§ä»£æ›¿
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: @nap5/gnrng-id ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å‹•ä½œç¢ºèª
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»çµ±åˆæ©Ÿèƒ½ã®ç¶²ç¾…

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ‘ã‚¿ãƒ¼ãƒ³

```bash
# ğŸ” é–‹ç™ºä¸­ã®ç¶™ç¶šãƒ†ã‚¹ãƒˆï¼ˆæ¨å¥¨ï¼‰
pnpm test

# ğŸš€ CI/CDç”¨ãƒ†ã‚¹ãƒˆ
pnpm test:run

# ğŸ“Š ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
pnpm test:coverage
open coverage/index.html

# ğŸ¯ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ†ã‚¹ãƒˆUI
pnpm test:ui
```

### WASMãƒ¢ãƒƒã‚¯è¨­å®š

```typescript
// vitest.setup.ts
vi.mock('@nap5/gnrng-id', () => ({
  initWasm: vi.fn().mockResolvedValue(undefined),
  Gnrng: MockGnrng,
  createIdBySeed: vi.fn(),
  IdType: { User: 'user', Team: 'team', Project: 'project', Default: 'default' },
  // ...
}))
```

## ğŸ“¦ ä¾å­˜é–¢ä¿‚

### å®Ÿè¡Œæ™‚ä¾å­˜é–¢ä¿‚

```json
{
  "@nap5/gnrng-id": "workspace:*",    // GNRNG-ID WASMãƒ©ã‚¤ãƒ–ãƒ©ãƒª
  "react": "^18.3.1",                 // UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª
  "react-dom": "^18.3.1"              // DOMæ“ä½œ
}
```

### é–‹ç™ºä¾å­˜é–¢ä¿‚

```json
{
  "@vitejs/plugin-react": "^4.4.1",      // React Viteãƒ—ãƒ©ã‚°ã‚¤ãƒ³
  "@testing-library/react": "^16.3.0",   // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
  "tailwindcss": "^3.4.17",              // CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
  "vitest": "^3.1.4",                    // ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
  "@biomejs/biome": "1.9.4"               // ãƒªãƒ³ã‚¿ãƒ¼ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
}
```

## ğŸ¨ ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

### TailwindCSSè¨­å®š

```javascript
// tailwind.config.js
export default {
  content: [
    './index.html', 
    './src/**/*.{js,ts,jsx,tsx}',
  ],
  ...sharedConfig,
}
```

## ğŸ”§ æ©Ÿèƒ½è©³ç´°

### ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãƒ‡ãƒ¢

**BenchmarkDemo** ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã¾ã™ï¼š

- **ğŸ² GNRNG ä¹±æ•°ç”Ÿæˆ**: å€‹åˆ¥ vs ãƒãƒƒãƒå‡¦ç†ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ
- **ğŸ¯ GNRNG ç¯„å›²ä¹±æ•°**: æŒ‡å®šç¯„å›²å†…ã®æ•´æ•°ç”Ÿæˆã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
- **ğŸ†” ã‚·ãƒ¼ãƒ‰IDç”Ÿæˆ**: æ±ºå®šçš„IDç”Ÿæˆã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
- **ğŸ”„ æ··åˆå‡¦ç†**: ä¹±æ•°ã¨IDç”Ÿæˆã‚’çµ„ã¿åˆã‚ã›ãŸå®Ÿç”¨çš„ãªãƒ†ã‚¹ãƒˆ

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š

```typescript
// å…¸å‹çš„ãªãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å®Ÿè¡Œä¾‹
const wasmRng = new Gnrng('benchmark-seed')
const start = performance.now()
const results = wasmRng.nextBatch(10000) // ãƒãƒƒãƒå‡¦ç†
const end = performance.now()
console.log(`å‡¦ç†æ™‚é–“: ${end - start}ms`)
wasmRng.free()
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### é™çš„ãƒ•ã‚¡ã‚¤ãƒ«

```bash
# ãƒ“ãƒ«ãƒ‰
pnpm build

# dist/ ãƒ•ã‚©ãƒ«ãƒ€ãŒç”Ÿæˆã•ã‚Œã‚‹
# ä»»æ„ã®é™çš„ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã«ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½
```

### Docker

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã® `Dockerfile` ã‚’ä½¿ç”¨ï¼š

```bash
# Dockerãƒ“ãƒ«ãƒ‰
docker build -t gnrng-id-demo .

# å®Ÿè¡Œ
docker run -p 3000:3000 gnrng-id-demo
```

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### 1. WASMåˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼
```bash
# è§£æ±ºæ–¹æ³•
pnpm run clean:wasm
pnpm run build:wasm
pnpm install
```

#### 2. å‹å®šç¾©ã‚¨ãƒ©ãƒ¼
```bash
# è§£æ±ºæ–¹æ³•  
pnpm typecheck
# VSCode: Cmd/Ctrl + Shift + P â†’ "TypeScript: Restart TS Server"
```

#### 3. ãƒ†ã‚¹ãƒˆå¤±æ•—
```bash
# WASMãƒ¢ãƒƒã‚¯ã®å•é¡Œã®å ´åˆ
rm -rf node_modules/.vitest
pnpm test:run
```

#### 4. ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ãŒåŠ¹ã‹ãªã„
```bash
# Viteã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
pnpm dev --force
```

## ğŸ”— é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

- [`@nap5/gnrng-id`](../lib) - GNRNG-ID WASMãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- [`@internal/utils`](../utils) - TypeScriptãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- [`@internal/shared-config`](../shared-config) - å…±é€šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœŸå¾…å€¤

### WASM vs JavaScriptæ¯”è¼ƒ

TBD

- å€‹åˆ¥ã‚ˆã‚Šã€ãƒãƒƒãƒå®Ÿè¡Œã®æ–¹ãŒåŸºæœ¬æ—©ã„
- gnrngã¯ãƒãƒƒãƒã‚µã‚¤ã‚ºå¤§ãã„ã»ã©æœ‰åˆ©ã§æ—©ã„
- createIdã¯ãƒãƒƒãƒã‚µã‚¤ã‚ºãŒå°ã•ã„ï¼ˆ100å€‹ã»ã©ï¼‰ã¨Nativeã®æ–¹ãŒæ—©ãã€ãƒãƒƒãƒã‚µã‚¤ã‚ºãŒå¤§ãã„ï¼ˆ1000å€‹ä»¥ä¸Šï¼‰ã¨wasmã®æ–¹ãŒæ—©ã„

### æœ€é©åŒ–ã®ãƒã‚¤ãƒ³ãƒˆ

- **ãƒãƒƒãƒå‡¦ç†**: è¤‡æ•°ã®å‡¦ç†ã‚’ä¸€åº¦ã«WASMã«é€ä¿¡
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: é©åˆ‡ãª`free()`å‘¼ã³å‡ºã—ã§ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢
- **ä¸¦åˆ—å‡¦ç†**: éåŒæœŸå‡¦ç†ã§ã®é©åˆ‡ãªåˆæœŸåŒ–ã‚¿ã‚¤ãƒŸãƒ³ã‚°

---

è©³ç´°ãªé–‹ç™ºã‚¬ã‚¤ãƒ‰ã¯ [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®README](../../README.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚